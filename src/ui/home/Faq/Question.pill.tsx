'use client'

import { ReactNode, useState } from 'react'

export function Question({
    heading,
    children,
}: {
    heading: string
    children: ReactNode
}) {
    const [toggle, setToggle] = useState<boolean>(false)

    function handleSetToggle() {
        setToggle((prev) => !prev)
    }

    return (
        <div
            onClick={handleSetToggle}
            className="flex w-full cursor-pointer flex-col gap-4 border-b border-gray-200 py-4"
        >
            <div className="flex items-center justify-between">
                <h3 className="text-[1.1875rem] font-bold leading-none text-purple-950 md:text-[2rem]">
                    {heading}
                </h3>
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    className={`max-w-6 md:max-w-[2rem] ${toggle && 'rotate-180'}`}
                    viewBox="0 0 33 33"
                    fill="none"
                >
                    <path
                        d="M16.4673 0.515625C13.3028 0.515625 10.2094 1.45401 7.57817 3.21211C4.94698 4.97021 2.89622 7.46907 1.68522 10.3927C0.474218 13.3163 0.157364 16.5334 0.774728 19.6371C1.39209 22.7408 2.91594 25.5917 5.15358 27.8293C7.39122 30.067 10.2421 31.5908 13.3458 32.2082C16.4495 32.8255 19.6666 32.5087 22.5902 31.2977C25.5138 30.0867 28.0127 28.0359 29.7708 25.4047C31.5289 22.7736 32.4673 19.6801 32.4673 16.5156C32.4628 12.2735 30.7757 8.20647 27.776 5.20686C24.7764 2.20725 20.7094 0.520105 16.4673 0.515625ZM16.4673 30.0541C13.7896 30.0541 11.1721 29.2601 8.94572 27.7724C6.71934 26.2848 4.98408 24.1704 3.95938 21.6966C2.93469 19.2227 2.66658 16.5006 3.18897 13.8744C3.71135 11.2482 5.00077 8.83587 6.89415 6.94249C8.78754 5.0491 11.1999 3.75969 13.8261 3.2373C16.4523 2.71492 19.1744 2.98302 21.6482 4.00772C24.1221 5.03241 26.2365 6.76767 27.7241 8.99406C29.2117 11.2204 30.0057 13.838 30.0057 16.5156C30.0017 20.105 28.574 23.5462 26.0359 26.0843C23.4979 28.6223 20.0567 30.05 16.4673 30.0541ZM23.4919 13.1833C23.6063 13.2976 23.6971 13.4334 23.7591 13.5828C23.821 13.7322 23.8529 13.8923 23.8529 14.0541C23.8529 14.2158 23.821 14.376 23.7591 14.5254C23.6971 14.6748 23.6063 14.8105 23.4919 14.9249L17.3381 21.0787C17.2238 21.1931 17.088 21.2839 16.9386 21.3458C16.7892 21.4078 16.629 21.4397 16.4673 21.4397C16.3055 21.4397 16.1454 21.4078 15.996 21.3458C15.8466 21.2839 15.7108 21.1931 15.5965 21.0787L9.44267 14.9249C9.21173 14.6939 9.08199 14.3807 9.08199 14.0541C9.08199 13.7275 9.21173 13.4143 9.44267 13.1833C9.67362 12.9524 9.98684 12.8226 10.3134 12.8226C10.64 12.8226 10.9533 12.9524 11.1842 13.1833L16.4673 18.4679L21.7504 13.1833C21.8647 13.0689 22.0004 12.9781 22.1498 12.9162C22.2992 12.8542 22.4594 12.8223 22.6211 12.8223C22.7829 12.8223 22.943 12.8542 23.0924 12.9162C23.2419 12.9781 23.3776 13.0689 23.4919 13.1833Z"
                        fill="#7E34BA"
                    />
                </svg>
            </div>
            {toggle && (
                <p className="text-[.9375rem] text-gray-500 md:max-w-[64%] md:text-[1.0625rem]">
                    {children}
                </p>
            )}
        </div>
    )
}
